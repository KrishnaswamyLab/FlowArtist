---

title: 02d Flow Datasets


keywords: fastai
sidebar: home_sidebar

summary: "Here be the tailored datasets for FlowNet! In addition to storing points, we must store a graph, and intelligently sample from the graph so that batches preserve 'flow neighborhoods'"
description: "Here be the tailored datasets for FlowNet! In addition to storing points, we must store a graph, and intelligently sample from the graph so that batches preserve 'flow neighborhoods'"
nb_path: "02d Flow Datasets.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02d Flow Datasets.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As previously listed, this is our preprocessing pipeline: 
0-3 are handled by separate functions. This notebook takes care of 4 and 5</p>
<ol>
<li>Turn data to torch tensors</li>
<li>Build graph from data, using flashlight kernel<ol>
<li>Estimate best parameters for kernel selection</li>
</ol>
</li>
<li>Take diffusion map on data (or any ‘best guess embedding’) we want to penalize against. (Can be done on CPU or GPU). Would likely use established methods, like PHATE, tSNE, node2vec.<ol>
<li>Visualize embedding</li>
</ol>
</li>
<li>Find flow neighborhoods of data.</li>
<li><strong>Break data into batches (both affinity matrix of batches and points in batches).</strong></li>
<li><strong>Return <code>Dataloader</code> with minibatch <code>X</code> and subgraph <code>A</code> of each batch.</strong></li>
</ol>

</div>
</div>
</div>
</div>


